#!/usr/bin/env bash

# Suite: multi_expense (multi-item behavior)

SUITE_PY_ARGS=()

TEST_CASES=(
  "TC-V15-001|向後相容|v1 格式兼容 - 標準記帳|午餐120元現金|✅ 單項目，使用 v1 格式顯示|記帳|||現金|||||"
  "TC-V15-002|向後相容|v1 格式兼容 - 含暱稱|點心200元狗卡|✅ 付款方式：台新狗卡|記帳|||台新狗卡|||||"
  "TC-V15-003|向後相容|v1 格式兼容 - 自然語句|買了咖啡50元，Line轉帳|✅ 單項目，v1 格式|記帳|||Line 轉帳|||||"

  "TC-V15-010|多項目|雙項目 - 逗號分隔|早餐80元，午餐150元，現金|✅ 2個項目，共用付款方式：現金|記帳|||現金||2|||"
  "TC-V15-011|多項目|雙項目 - 付款方式在前|用狗卡，咖啡50，三明治35|✅ 2個項目，共用付款方式：台新狗卡|記帳||||台新狗卡||2|||"
  "TC-V15-012|多項目|三項目 - 早午晚餐|早餐50元，午餐120元，晚餐200元，現金|✅ 3個項目，共用付款方式：現金|記帳|||現金||3|||"
  "TC-V15-013|多項目|雙項目 - 分號分隔|咖啡45元；蛋糕120元；Line轉帳|✅ 2個項目，分號分隔|記帳||||Line 轉帳||2|||"
  "TC-V15-014|多項目|雙項目 - 頓號分隔|早餐三明治35、飲料30、現金|✅ 2個項目，頓號分隔|記帳||||現金||2|||"
  "TC-V15-015|多項目|四項目以上|咖啡50、三明治35、沙拉80、果汁40、現金|✅ 4個項目，共用付款方式|記帳||||現金||4|||"

  "TC-V15-020|共用驗證|共用交易ID驗證|早餐80元，午餐150元，現金|✅ 檢查兩個項目的交易ID是否相同|記帳||||現金||2|||"
  "TC-V15-021|共用驗證|共用日期驗證|早餐80元，午餐150元，現金|✅ 檢查兩個項目的日期是否相同|記帳||||現金||2|||"
  "TC-V15-022|共用驗證|共用付款方式驗證|咖啡50，三明治35，用狗卡|✅ 檢查兩個項目的付款方式是否都是台新狗卡|記帳||||台新狗卡||2|||"

  "TC-V15-030|錯誤處理|❌ 不同付款方式（應拒絕）|早餐80元現金，午餐150元刷卡|❌ 應回傳錯誤：偵測到不同付款方式|錯誤|||||||||不同付款方式"
  "TC-V15-031|錯誤處理|❌ 第二項缺少金額（應拒絕）|早餐80元，午餐，現金|❌ 應回傳錯誤：第2個項目缺少金額|錯誤|||||||||缺少金額"
  "TC-V15-032|單項目處理|✅ 「和」連接詞視為單項目|三明治和咖啡80元現金|✅ 應為單項目|記帳||||現金||||"
  "TC-V15-033|錯誤處理|❌ 缺少付款方式（應拒絕）|早餐80元，午餐150元|❌ 應回傳錯誤：缺少付款方式|錯誤|||||||||付款方式"
  "TC-V15-034|錯誤處理|❌ 第一項缺少金額（應拒絕）|早餐，午餐150元，現金|❌ 應回傳錯誤：第1個項目缺少金額|錯誤|||||||||缺少金額"
  "TC-V15-035|錯誤處理|❌ 缺少品項名稱（應拒絕）|80元，150元，現金|❌ 應回傳錯誤：缺少品項名稱|錯誤|||||||||品項"

  "TC-V15-040|對話意圖|打招呼|你好|✅ 意圖：對話|對話||||||||"
  "TC-V15-041|對話意圖|詢問功能|可以幫我做什麼？|✅ 意圖：對話|對話||||||||"
  "TC-V15-042|對話意圖|感謝|謝謝|✅ 意圖：對話|對話||||||||"

  "TC-V15-050|複雜場景|含明細說明的多項目|在開飯早餐50元，在7-11買咖啡45元，現金|✅ 2個項目，含明細說明|記帳||||現金||2|||"
  "TC-V15-051|複雜場景|含不同分類的多項目|咖啡50元，蛋糕120元，狗卡|✅ 2個項目，不同分類（飲品、點心）|記帳||||台新狗卡||2|||"
)
